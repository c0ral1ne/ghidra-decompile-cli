# ghidra-decompile-cli
Lightweight CLI tool for decompiling binaries into reconstructed source code. Powered by Ghidra (headless).

## Installation
Make sure you have Ghidra (>=12.0.0) and uv installed. This will install the tool globally.
```
$ uv tool install .

$ gdecompile -h
usage: gdecompile [-h] [-o OUTPUT] [-a] binary_path

Decompile binary programs using pyghidra and output results to stdout (default)

positional arguments:
  binary_path

options:
  -h, --help           show this help message and exit
  -o, --output OUTPUT  store results in output file instead of print to stdout
  -a                   include all functions (thunk functions, stubs, etc.)
```

## Usage
Print the decompiled code directly to stdout or output to a file via `-o out.c`. By default, the reconstructed code does not include thunk functions to reduce clutter.
```
$ gdecompile vuln
/*
 Decompilation generated by Ghidra (headless)
 Program: vuln
*/


/* ======== Global Variables ======== */
/* undefined4 sus @ 00404060 */


/* ===== Function: FUN_00401020 @ 00401020 ===== */
void FUN_00401020(void)

{
  (*(code *)PTR_00404010)();
  return;
}


/* ===== Function: main @ 004011f6 ===== */
undefined8 main(void)

{
  char local_458 [64];
  char local_418 [1032];
  FILE *local_10;

  puts(
      "You don\'t have what it takes. Only a true wizard could change my suspicions. What do you have to say?"
      );
  fflush(stdout);
  __isoc99_scanf("%1024s",local_418);
  printf("Here\'s your input: ");
  printf(local_418);
  putchar(10);
  fflush(stdout);
  if (sus == 0x67616c66) {
...
```

## Todo
